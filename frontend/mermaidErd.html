<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mermaid Example</title>
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({ startOnLoad: true });
  </script>
</head>
<body>
  <h1>Entity Relationship Diagram</h1>

  <pre class="mermaid">
erDiagram
    users ||--o{ levelprogress: user_id
    users ||--o{ overallprogress: user_id
    category ||--o{ vocab: category_id
    category ||--o{ sentences: category_id
    category ||--o{ level2_sentences: category_id
    level ||--o{ levelprogress: level_id
    level ||--o{ level2_sentences: level_id

    users {
        user_id integer "PK"
        first_name varchar(100) "not null"
        last_name varchar(100) "not null"
        username varchar(50) "unique, not null"
        email varchar(100) "unique, not null"
        password varchar(255) "not null"
        role varchar(20) "default 'Student', check ('Student', 'staff')"
    }

    category {
        category_id integer "PK"
        category_name varchar(100) "not null"
    }

    level {
        level_id integer "PK"
        level_name varchar(50) "unique, not null"
    }

    level2_sentences {
        sentence_id integer "PK"
        french_full varchar(200) "not null"
        french_with_gap varchar(200) "not null"
        missing_word varchar(50) "not null"
        distractors text[] "not null"
        english_translation varchar(200) "not null"
        category_id integer "FK"
        level_id integer "FK"
    }

    vocab {
        vocab_id integer "PK"
        lang1_word varchar(255) "not null"
        lang2_word varchar(255) "not null"
        category_id integer "FK"
    }

    levelprogress {
        level_progress_id integer "PK"
        user_id integer "FK"
        level_id integer "FK"
        questions_answered integer "default 0, not null"
        questions_correct integer "default 0, not null"
        total_questions integer "not null"
        level_status boolean "default false"
    }

    overallprogress {
        overall_progress_id integer "PK"
        user_id integer "FK"
        level_status boolean "default false"
    }

    sentences {
        sentence_id integer "PK"
        english varchar(100) "not null"
        french varchar(100) "not null"
        shuffled varchar(100) "not null"
        category_id integer "FK"
    }

  </pre>
</body>
</html>